---
layout: doc
---

# 手写题合集

## 函数柯里化

```js
function curry(fn, ...args) {
  return function (...rest) {
    const allArgs = [...args, ...rest];
    if (allArgs.length >= fn.length) {
      return fn.call(this, ...allArgs);
    } else {
      return curry(fn, ...allArgs);
    }
  };
}

function sum(a, b, c, d) {
  console.log(a + b + c + d);
}

curry(sum)(1)(2)(3)(4); // 10
curry(sum, 1)(2, 3)(4); // 10
curry(sum)(1, 2, 3, 4); // 10
```

## sleep 函数

```js
function sleep(time) {
  return new Promise((resolve) => {
    setTimeout(() => {
      resolve();
    }, time);
  });
}

(async () => {
  console.log(111);
  await sleep(2000); // 间隔2000ms后 输出222
  console.log(222);
})();
```

## 辨别 this

```js
const ObjA = {
  name: "objA",
  printFn1: () => {
    console.log(this.name); // node中是undefined  此时this指向global
  },
  printFn2() {
    console.log(this.name); // 'objA
  },
};

ObjA.printFn1();
ObjA.printFn2();
```

## 防抖

```js
function debounce(fn, delay) {
  let timer = null;
  return () => {
    if (timer) {
      clearTimeout(timer);
    }
    timer = setTimeout(() => {
      fn();
    }, delay);
  };
}
```

## 节流

```js
function throttle(fn, delay) {
  let timer = null;
  return () => {
    if (timer) return;
    timer = setTimeout(() => {
      fn();
      timer = null;
    }, delay);
  };
}
```
