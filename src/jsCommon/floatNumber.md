---
layout: doc
---

# 浮点数精度问题

简言之：**有的十进制数转为二进制的时候，可能会出现循环，位数超过了 64 位双精度浮点数的存储空间，而被截断**

## 二进制数据的存储

64 位双精度浮点数是一种二进制的科学计数法，它采用 64 个比特，也就是 8 个字节来存储数值。通俗的理解我们可以认为有 64 个格子来表示一个数。并且每一位只能是 0 或者 1。

## 0.1+0.2

0.1 -> 0.0001 1001 1001 1001...(1100 循环)

0.2 -> 0.0011 0011 0011 0011...(0011 循环)

IEEE 754 标准的 64 位双精度浮点数的小数部分最多支持 53 位二进制位，所以两者相加之后得到二进制为：

0.0100110011001100110011001100110011001100110011001100

因浮点数小数位的限制而截断的二进制数字，再转换为十进制，就成了 0.30000000000000004。所以在进行算术计算时会产生误差。
